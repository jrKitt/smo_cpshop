;/*FB_PKG_DELIM*/

__d("MWV2ChatOverflowHeadFirstThreadPicture.react",["fbt","MDSGlimmer.react","MWChatHeadPicture.react","MWV2EnsureThatChatTabExists","MWXText.react","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","react","react-compiler-runtime","useMWFacepileGetContactsToShow","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function l(a){var b=d("react-compiler-runtime").c(10),e=a.count;a=a.thread;a=c("useMWFacepileGetContactsToShow")(a.threadKey,a.threadType);var f;b[0]!==a?(f=a.map(c("getLSMediaContactProfilePictureUrl")),b[0]=a,b[1]=f):f=b[1];a=f;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x6s0dn4 x18l40ae x1c9tyrk xeusxvb x1pahc9y x1ertn4p x78zum5 xsdox4t xl56j7k x10l6tqk x13vifvy x1useyqa"},b[2]=f):f=b[2];var g;b[3]!==e?(g=h._(/*BTDS*/"+{chat count}",[h._param("chat count",String(e))]),b[3]=e,b[4]=g):g=b[4];b[5]!==g?(e=k.jsx("div",babelHelpers["extends"]({},f,{children:k.jsx(c("MWXText.react"),{color:"white",type:"bodyLink3",children:g})})),b[5]=g,b[6]=e):e=b[6];b[7]!==a||b[8]!==e?(f=k.jsx(c("MWChatHeadPicture.react"),{images:a,noDropShadow:!0,noFacepile:!0,children:e}),b[7]=a,b[8]=e,b[9]=f):f=b[9];return f}var m={glimmer:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(10),e=a.count,g=a.tab;d("MWV2EnsureThatChatTabExists").useMWV2EnsureThatChatTabExists(g.threadKey,g.threadType,null,"MWV2ChatOverflowHeadFirstThreadPicture");var h=(i||(i=c("useReStore")))();b[0]!==h.tables.threads||b[1]!==g.threadKey?(a=function(){return d("ReQL").fromTableAscending(h.tables.threads).getKeyRange(g.threadKey)},b[0]=h.tables.threads,b[1]=g.threadKey,b[2]=a):a=b[2];var j;b[3]!==h||b[4]!==g.threadKey?(j=[h,g.threadKey],b[3]=h,b[4]=g.threadKey,b[5]=j):j=b[5];a=d("ReQLSuspense").useFirst(a,j,f.id+":81");if(a!=null){b[6]!==e||b[7]!==a?(j=k.jsx(l,{count:e,thread:a}),b[6]=e,b[7]=a,b[8]=j):j=b[8];return j}b[9]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx(c("MDSGlimmer.react"),{index:1,xstyle:m.glimmer}),b[9]=e):e=b[9];return e}g["default"]=a}),226);
__d("MWV2ChatOverflowHeadPopoverTable.react",["FocusTable.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=d("FocusTable.react").createFocusTable(d("focusScopeQueries").tabbableScopeQuery);var j=b[0];c=b[1];e=b[2];f=c;b=e;function a(a){var b=d("react-compiler-runtime").c(2);a=a.children;var c;b[0]!==a?(c=i.jsx(j,{allowModifiers:!0,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapX:!0,wrapY:!0,children:a}),b[0]=a,b[1]=c):c=b[1];return c}g.MWChatOverflowHeadPopoverTableRow=f;g.MWChatOverflowHeadPopoverTableCell=b;g.MWChatOverflowHeadPopoverTable=a}),98);
__d("MWV2ChatOverflowHeadPopoverItem.react",["fbt","CometTextWithEntities.react","FDSListCellGlimmer.react","FDSMenuItemBase.react","GroupsCometChatsEngagementLogger","I64","LSIntEnum","LSThreadAttributionStore","LSThreadTitle.react","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatTextTransform","MWPActor.react","MWV2ChatOverflowHeadPopoverTable.react","MWV2EnsureThatChatTabExists","MWXCircleButton.react","MWXIconCross","ReQL","ReQLSuspense","mwCMIsAnyCMThread","react","react-compiler-runtime","useMWChatOpenTabTraceProvider","useMWGetThreadTitleForLabel","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react");function n(a){var b,e=d("MWPActor.react").useActor(),g=(i||(i=c("useReStore")))();return(b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.threads).getKeyRange(a).map(function(b){return d("ReQLSuspense").toArray(d("ReQL").fromTableDescending(g.tables.messages).getKeyRange(a).take(20).bounds({gt:d("ReQL").key(b.lastReadWatermarkTimestampMs)}).filter(function(a){return!(j||(j=d("I64"))).equal(a.senderId,e)}),f.id+":65").length})},[g,e,a],f.id+":59"))!=null?b:0}function o(a){var b=d("react-compiler-runtime").c(7);a=a.thread;var e=n(a.threadKey),f;b[0]!==a?(f=m.jsx(c("LSThreadTitle.react"),{thread:a}),b[0]=a,b[1]=f):f=b[1];b[2]!==e?(a=e>0&&m.jsx(c("CometTextWithEntities.react"),{text:h._(/*BTDS*/"({unread message count})",[h._param("unread message count",String(e))]).toString(),transforms:d("MWChatTextTransform").textTransforms}),b[2]=e,b[3]=a):a=b[3];b[4]!==f||b[5]!==a?(e=m.jsxs(m.Fragment,{children:[f,a]}),b[4]=f,b[5]=a,b[6]=e):e=b[6];return e}function a(a){var b=d("react-compiler-runtime").c(40),e=a.descriptor,g=a.tab,l=(i||(i=c("useReStore")))();b[0]!==l.tables.threads||b[1]!==e.threadKey?(a=function(){return d("ReQL").fromTableAscending(l.tables.threads).getKeyRange(e.threadKey)},b[0]=l.tables.threads,b[1]=e.threadKey,b[2]=a):a=b[2];var n;b[3]!==l||b[4]!==e.threadKey?(n=[l,e.threadKey],b[3]=l,b[4]=e.threadKey,b[5]=n):n=b[5];var p=d("ReQLSuspense").useFirst(a,n,f.id+":126"),q=d("MWChatStateV2.react").useDispatch(),r=c("useMWChatOpenTabTraceProvider")();d("MWV2EnsureThatChatTabExists").useMWV2EnsureThatChatTabExists(e.threadKey,e.threadType,e.clientThreadKey,"MWV2ChatOverflowHeadMenuItem");a=p==null?void 0:p.threadName;b[6]!==e.threadKey||b[7]!==e.threadType||b[8]!==a?(n={threadKey:e.threadKey,threadName:a,threadType:e.threadType},b[6]=e.threadKey,b[7]=e.threadType,b[8]=a,b[9]=n):n=b[9];a=c("useMWGetThreadTitleForLabel")(n);if(p!=null){b[10]!==p.threadType?(n=c("mwCMIsAnyCMThread")(p.threadType),b[10]=p.threadType,b[11]=n):n=b[11];var s=n;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(n="x6s0dn4 x78zum5 x1q0g3np",b[12]=n):n=b[12];var t;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(t="x1iyjqo2",b[13]=t):t=b[13];var u;b[14]!==q||b[15]!==s||b[16]!==g.tabId||b[17]!==p.parentThreadKey||b[18]!==p.threadKey||b[19]!==p.threadType||b[20]!==r?(u=function(){d("LSThreadAttributionStore").setSource((j||(j=d("I64"))).to_string(p.threadKey),"chatheadsOverflow");r(function(a){d("MWChatInteraction").set((j||(j=d("I64"))).to_string(p.threadKey),a)},(k||(k=d("LSIntEnum"))).unwrapIntEnum(p.threadType),"chatheadsOverflow",p.threadKey);s&&d("GroupsCometChatsEngagementLogger").log({action:"tap",community_id:(j||(j=d("I64"))).to_string(p.parentThreadKey),event:"thread_open",source:"chat_bubble_overflow",surface:"chat_bubbles_container",thread_id:j.to_string(p.threadKey)});return q(d("MWChatStateActions").maximizeTab(Date.now(),g.tabId))},b[14]=q,b[15]=s,b[16]=g.tabId,b[17]=p.parentThreadKey,b[18]=p.threadKey,b[19]=p.threadType,b[20]=r,b[21]=u):u=b[21];var v;b[22]!==p?(v=m.jsx(o,{thread:p}),b[22]=p,b[23]=v):v=b[23];b[24]!==u||b[25]!==v?(t=m.jsx("div",{className:t,role:"gridcell",children:m.jsx(d("MWV2ChatOverflowHeadPopoverTable.react").MWChatOverflowHeadPopoverTableCell,{children:m.jsx(c("FDSMenuItemBase.react"),{onClick:u,primaryText:v,role:"button"})})}),b[24]=u,b[25]=v,b[26]=t):t=b[26];b[27]===Symbol["for"]("react.memo_cache_sentinel")?(u="x6s0dn4 x78zum5 xdg88n9 x10l6tqk",b[27]=u):u=b[27];b[28]!==a?(v=a==null?h._(/*BTDS*/"\u0e1b\u0e34\u0e14\u0e41\u0e0a\u0e17"):h._(/*BTDS*/"\u0e1b\u0e34\u0e14\u0e41\u0e0a\u0e17 \"{chat_name}\"",[h._param("chat_name",a)]),b[28]=a,b[29]=v):v=b[29];b[30]!==q||b[31]!==g.tabId?(a=function(){return q(d("MWChatStateActions").closeTab(Date.now(),g.tabId))},b[30]=q,b[31]=g.tabId,b[32]=a):a=b[32];b[33]!==v||b[34]!==a?(u=m.jsx("div",{className:u,role:"gridcell",children:m.jsx(d("MWV2ChatOverflowHeadPopoverTable.react").MWChatOverflowHeadPopoverTableCell,{children:m.jsx(c("MWXCircleButton.react"),{color:"secondary",icon:c("MWXIconCross"),label:v,onPress:a,size:24,type:"deemphasized"})})}),b[33]=v,b[34]=a,b[35]=u):u=b[35];b[36]!==t||b[37]!==u?(v=m.jsx("div",{className:n,role:"row",children:m.jsxs(d("MWV2ChatOverflowHeadPopoverTable.react").MWChatOverflowHeadPopoverTableRow,{children:[t,u]})}),b[36]=t,b[37]=u,b[38]=v):v=b[38];return v}b[39]===Symbol["for"]("react.memo_cache_sentinel")?(a=m.jsx("div",babelHelpers["extends"]({className:"xc9qbxq x5w4yej"},{children:m.jsx(c("FDSListCellGlimmer.react"),{imageStyle:"none"})})),b[39]=a):a=b[39];return a}g["default"]=a}),226);
__d("MWV2ChatOverflowHeadPopover.react",["BaseContextualLayerAvailableHeightContext","BaseScrollableArea.react","FocusRegionStrictMode.react","MWChatStateV2Types","MWV2ChatOverflowHeadPopoverItem.react","MWV2ChatOverflowHeadPopoverTable.react","MWXPopover.react","focusScopeQueries","react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={menuWrapper:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",marginInlineEnd:"x1ujha01",paddingTop:"x1ten1a2",paddingBottom:"xz7cn9q",paddingInlineStart:"x1c1uobl",paddingInlineEnd:"xyri2b",paddingLeft:null,paddingRight:null,width:"xh8yej3",$$css:!0}},l=145;function a(a){var b=d("react-compiler-runtime").c(16);if(b[0]!==a){var e=a.excessHeads;a.onClose;var f=babelHelpers.objectWithoutPropertiesLoose(a,["excessHeads","onClose"]);e=e;f=f;b[0]=a;b[1]=f;b[2]=e}else f=b[1],e=b[2];a=j(c("BaseContextualLayerAvailableHeightContext"));a=a!=null?Math.max(a,l):void 0;var g;b[3]!==a?(g={maxHeight:a},b[3]=a,b[4]=g):g=b[4];b[5]!==e?(a=e.map(m),b[5]=e,b[6]=a):a=b[6];b[7]!==a?(e=i.jsx(d("FocusRegionStrictMode.react").FocusRegion,{recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:i.jsx(d("MWV2ChatOverflowHeadPopoverTable.react").MWChatOverflowHeadPopoverTable,{children:a})}),b[7]=a,b[8]=e):e=b[8];b[9]!==f||b[10]!==g||b[11]!==e?(a=i.jsx(c("BaseScrollableArea.react"),babelHelpers["extends"]({horizontal:!1,role:"grid",style:g,vertical:!0,xstyle:k.menuWrapper},f,{children:e})),b[9]=f,b[10]=g,b[11]=e,b[12]=a):a=b[12];b[13]!==f||b[14]!==a?(g=i.jsx(c("MWXPopover.react"),babelHelpers["extends"]({role:"dialog",withArrow:!0},f,{children:a})),b[13]=f,b[14]=a,b[15]=g):g=b[15];return g}function m(a){var b=a.tabType;if(b.type!==d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return i.jsx(c("MWV2ChatOverflowHeadPopoverItem.react"),{descriptor:b.threadKeyDescriptor,tab:a},String(a.tabId));c("recoverableViolation")("Compose tab shouldn't be part of excess tabs","messenger_web_entrypoints")}g["default"]=a}),98);
__d("MWV2ChatOverflowHead.react",["fbt","BasePopoverTrigger.react","MWChatStateV2Types","MWV2ChatHeadButton.react","MWV2ChatOverflowHeadFirstThreadPicture.react","MWV2ChatOverflowHeadPopover.react","react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useRef,l=b.useState;function a(a){var b=d("react-compiler-runtime").c(29),e=a.excessHeads,f=a.onActiveChange;a=a.style;var g=l(!1),i=g[0],m=g[1],n=k(null),o=e.length;if(o<=0)return null;var p=e[0].tabType;p.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab&&c("recoverableViolation")("Compose tab shouldn't be part of excess tabs","messenger_web_entrypoints");b[0]!==o?(g=h._(/*BTDS*/"+{chat count} \u0e41\u0e0a\u0e17\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21",[h._param("chat count",String(o))]),b[0]=o,b[1]=g):g=b[1];var q=g;b[2]!==f?(g=function(){var a;(a=n.current)==null?void 0:a.show();f(!0)},b[2]=f,b[3]=g):g=b[3];var r;b[4]!==i||b[5]!==f?(r=function(){if(!i){var a;(a=n.current)==null?void 0:a.hide()}f(!1)},b[4]=i,b[5]=f,b[6]=r):r=b[6];var s;b[7]!==f?(s=function(a){a||(m(!1),f(!1))},b[7]=f,b[8]=s):s=b[8];var t;b[9]!==e||b[10]!==q?(t={"aria-label":q,excessHeads:e},b[9]=e,b[10]=q,b[11]=t):t=b[11];b[12]!==o||b[13]!==p.threadKeyDescriptor||b[14]!==p.type||b[15]!==q||b[16]!==f?(e=function(a,b,e,g,h,i,k,l){return j.jsx(d("MWV2ChatHeadButton.react").MWV2ChatHeadButton,{ariaLabel:q,onFocusChange:f,onHoverIn:g,onHoverOut:h,onPress:function(){l||(m(!0),b())},onPressIn:i,ref:a,children:p.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab?null:j.jsx(c("MWV2ChatOverflowHeadFirstThreadPicture.react"),{count:o,tab:p.threadKeyDescriptor})})},b[12]=o,b[13]=p.threadKeyDescriptor,b[14]=p.type,b[15]=q,b[16]=f,b[17]=e):e=b[17];var u;b[18]!==s||b[19]!==t||b[20]!==e?(u=j.jsx(c("BasePopoverTrigger.react"),{align:"middle",imperativeRef:n,onVisibilityChange:s,popover:c("MWV2ChatOverflowHeadPopover.react"),popoverProps:t,popoverType:"dialog",position:"end",children:e}),b[18]=s,b[19]=t,b[20]=e,b[21]=u):u=b[21];b[22]!==g||b[23]!==r||b[24]!==u?(s=j.jsx("div",{onMouseEnter:g,onMouseLeave:r,children:u}),b[22]=g,b[23]=r,b[24]=u,b[25]=s):s=b[25];b[26]!==a||b[27]!==s?(t=j.jsx(d("MWV2ChatHeadButton.react").MWV2ChatHeadButtonContainer,{style:a,children:s}),b[26]=a,b[27]=s,b[28]=t):t=b[28];return t}g["default"]=a}),226);